require 'ostruct'

grammar Ruby
  rule method_call
    primary_value call_op operation2 {
      def tree
        OpenStruct.new({ :method_call => OpenStruct.new({
          :primary_value => OpenStruct.new(:text => primary_value.text_value),
          :operation2 => OpenStruct.new(:text => operation2.text_value) })
        })
      end
    }
  end

  rule primary_value
    '1'
  end

  rule operation2
    'class'
  end

  rule call_op
    '.'
  end
end

